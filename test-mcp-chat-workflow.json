{
  "version": "1.0",
  "name": "MCP Agent Chat Test",
  "description": "Test workflow with chat trigger and AI agent using MCP tools (fetch, time, memory)",
  "inputVariable": "userInput",
  "trigger": {
    "type": "chat",
    "config": {}
  },
  "config": {
    "steps": [
      {
        "id": "agent",
        "module": "ai.ai-agent.runAgent",
        "inputs": {
          "options": {
            "prompt": "{{trigger.userMessage}}",
            "conversationHistory": "{{trigger.conversationHistory}}",
            "systemPrompt": "You are a helpful AI assistant with access to web fetching, time/timezone information, and persistent memory capabilities via MCP tools. Use these tools when they would help answer user questions.",
            "model": "gpt-4o-mini",
            "provider": "openai",
            "maxSteps": 10,
            "toolOptions": {
              "useMCP": true,
              "mcpServers": ["fetch", "time", "memory"]
            }
          }
        },
        "outputAs": "agentResponse"
      }
    ]
  }
}
